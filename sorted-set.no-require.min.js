/**
 * almond 0.2.5 Copyright (c) 2011-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

!function(){var t,r,e;!function(n){function o(t,r){return R.call(t,r)}function i(t,r){var e,n,o,i,u,l,a,f,s,h,c=r&&r.split("/"),p=S.map,d=p&&p["*"]||{};if(t&&"."===t.charAt(0))if(r){for(c=c.slice(0,c.length-1),t=c.concat(t.split("/")),f=0;f<t.length;f+=1)if(h=t[f],"."===h)t.splice(f,1),f-=1;else if(".."===h){if(1===f&&(".."===t[2]||".."===t[0]))break;f>0&&(t.splice(f-1,2),f-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((c||d)&&p){for(e=t.split("/"),f=e.length;f>0;f-=1){if(n=e.slice(0,f).join("/"),c)for(s=c.length;s>0;s-=1)if(o=p[c.slice(0,s).join("/")],o&&(o=o[n])){i=o,u=f;break}if(i)break;!l&&d&&d[n]&&(l=d[n],a=f)}!i&&l&&(i=l,u=a),i&&(e.splice(0,u,i),t=e.join("/"))}return t}function u(t,r){return function(){return p.apply(n,m.call(arguments,0).concat([t,r]))}}function l(t){return function(r){return i(r,t)}}function a(t){return function(r){y[t]=r}}function f(t){if(o(g,t)){var r=g[t];delete g[t],w[t]=!0,c.apply(n,r)}if(!o(y,t)&&!o(w,t))throw new Error("No "+t);return y[t]}function s(t){var r,e=t?t.indexOf("!"):-1;return e>-1&&(r=t.substring(0,e),t=t.substring(e+1,t.length)),[r,t]}function h(t){return function(){return S&&S.config&&S.config[t]||{}}}var c,p,d,v,y={},g={},S={},w={},R=Object.prototype.hasOwnProperty,m=[].slice;d=function(t,r){var e,n=s(t),o=n[0];return t=n[1],o&&(o=i(o,r),e=f(o)),o?t=e&&e.normalize?e.normalize(t,l(r)):i(t,r):(t=i(t,r),n=s(t),o=n[0],t=n[1],o&&(e=f(o))),{f:o?o+"!"+t:t,n:t,pr:o,p:e}},v={require:function(t){return u(t)},exports:function(t){var r=y[t];return"undefined"!=typeof r?r:y[t]={}},module:function(t){return{id:t,uri:"",exports:y[t],config:h(t)}}},c=function(t,r,e,i){var l,s,h,c,p,S,R=[];if(i=i||t,"function"==typeof e){for(r=!r.length&&e.length?["require","exports","module"]:r,p=0;p<r.length;p+=1)if(c=d(r[p],i),s=c.f,"require"===s)R[p]=v.require(t);else if("exports"===s)R[p]=v.exports(t),S=!0;else if("module"===s)l=R[p]=v.module(t);else if(o(y,s)||o(g,s)||o(w,s))R[p]=f(s);else{if(!c.p)throw new Error(t+" missing "+s);c.p.load(c.n,u(i,!0),a(s),{}),R[p]=y[s]}h=e.apply(y[t],R),t&&(l&&l.exports!==n&&l.exports!==y[t]?y[t]=l.exports:h===n&&S||(y[t]=h))}else t&&(y[t]=e)},t=r=p=function(t,r,e,o,i){return"string"==typeof t?v[t]?v[t](r):f(d(t,r).f):(t.splice||(S=t,r.splice?(t=r,r=e,e=null):t=n),r=r||function(){},"function"==typeof e&&(e=o,o=i),o?c(n,t,r,e):setTimeout(function(){c(n,t,r,e)},4),p)},p.config=function(t){return S=t,S.deps&&p(S.deps,S.callback),p},e=function(t,r,e){r.splice||(e=r,r=[]),o(y,t)||o(g,t)||(g[t]=[t,r,e])},e.amd={jQuery:!0}}(),e("almond",function(){}),function(){e("SortedSet/AbstractSortedSet",[],function(){var t;return t=function(){function t(t){if(null==(null!=t?t.strategy:void 0))throw"Must pass options.strategy, a strategy";if(null==(null!=t?t.comparator:void 0))throw"Must pass options.comparator, a comparator";this.priv=new t.strategy(t)}return t.prototype.insert=function(t){return this.priv.insert(t),this},t.prototype.remove=function(t){return this.priv.remove(t),this},t.prototype.contains=function(t){return this.priv.contains(t)},t.prototype.toArray=function(){return this.priv.toArray()},t.prototype.forEach=function(t,r){return this.priv.forEachImpl(t,this,r),this},t.prototype.map=function(t,r){var e;return e=[],this.forEach(function(n,o,i){return e.push(t.call(r,n,o,i))}),e},t.prototype.filter=function(t,r){var e;return e=[],this.forEach(function(n,o,i){return t.call(r,n,o,i)?e.push(n):void 0}),e},t.prototype.every=function(t,r){var e;return e=!0,this.forEach(function(n,o,i){return e&&!t.call(r,n,o,i)?e=!1:void 0}),e},t.prototype.some=function(t,r){var e;return e=!1,this.forEach(function(n,o,i){return!e&&t.call(r,n,o,i)?e=!0:void 0}),e},t.prototype.findIterator=function(t){return this.priv.findIterator(t)},t.prototype.beginIterator=function(){return this.priv.beginIterator()},t.prototype.endIterator=function(){return this.priv.endIterator()},t}()})}.call(this),function(){e("SortedSet/ArrayStrategy",[],function(){var t,r,e;return r=function(t,e){var n;return n=t.data,{hasNext:function(){return e<n.length},hasPrevious:function(){return e>0},value:function(){return e<n.length?n[e]:null},setValue:function(r){if(!t.options.allowSetValue)throw"Must set options.allowSetValue";if(!this.hasNext())throw"Cannot set value at end of set";return n[e]=r},next:function(){return e>=n.length?null:new r(t,e+1)},previous:function(){return 0>=e?null:new r(t,e-1)}}},e=function(t,r,e){var n,o,i;for(o=0,n=t.length;n>o;)i=o+n>>>1,e(t[i],r)<0?o=i+1:n=i;return o},t=function(){function t(t){this.options=t,this.comparator=this.options.comparator,this.data=[]}return t.prototype.toArray=function(){return this.data},t.prototype.insert=function(t){var r;if(r=e(this.data,t,this.comparator),this.data[r]===t)throw"Value already in set";return this.data.splice(r,0,t)},t.prototype.remove=function(t){var r;if(r=e(this.data,t,this.comparator),this.data[r]!==t)throw"Value not in set";return this.data.splice(r,1)},t.prototype.contains=function(t){return-1!==this.data.indexOf(t)},t.prototype.forEachImpl=function(t,r,e){var n,o,i,u,l;for(l=this.data,n=i=0,u=l.length;u>i;n=++i)o=l[n],t.call(e,o,n,r);return void 0},t.prototype.findIterator=function(t){var n;return n=e(this.data,t,this.comparator),new r(this,n)},t.prototype.beginIterator=function(){return new r(this,0)},t.prototype.endIterator=function(){return new r(this,this.data.length)},t}()})}.call(this),function(){e("SortedSet/BinaryTreeIterator",[],function(){var t,r,e;return r=function(t,r){for(var e;null!==r[t];)e=r,r=r[t],r._iteratorParentNode=e;return r},e=function(t,e){var n,o;if(null!==e[t])n=e,e=e[t],e._iteratorParentNode=n,o="left"===t?"right":"left",e=r(o,e);else{for(;null!==(n=e._iteratorParentNode)&&n[t]===e;)e=n;e=n}return e},t=function(){function t(t,r){this.tree=t,this.node=r}return t.prototype.next=function(){var r;return null===this.node?null:(r=e("right",this.node),new t(this.tree,r))},t.prototype.previous=function(){var n;return null===this.node?null===this.tree.root?null:(this.tree.root._iteratorParentNode=null,n=r("right",this.tree.root),new t(this.tree,n)):(n=e("left",this.node),null===n?null:new t(this.tree,n))},t.prototype.hasNext=function(){return null!==this.node},t.prototype.hasPrevious=function(){return null!==this.previous()},t.prototype.value=function(){return null===this.node?null:this.node.value},t.prototype.setValue=function(t){if(!this.tree.options.allowSetValue)throw"Must set options.allowSetValue";if(!this.hasNext())throw"Cannot set value at end of set";return this.node.value=t},t}(),t.find=function(r,e,n){var o,i,u,l;for(l=r.root,null!=l&&(l._iteratorParentNode=null),u=l,i=null;null!==u&&(o=n(e,u.value),0!==o);)if(0>o){if(null===u.left)break;i=u,u.left._iteratorParentNode=u,u=u.left}else{if(null===u.right){u=i;break}u.right._iteratorParentNode=u,u=u.right}return new t(r,u)},t.left=function(e){var n;return null===e.root?new t(e,null):(e.root._iteratorParentNode=null,n=r("left",e.root),new t(e,n))},t.right=function(r){return new t(r,null)},t})}.call(this),function(){e("SortedSet/AbstractBinaryTreeStrategy",["./BinaryTreeIterator"],function(t){var r,e;return e=function(t,r){return null!==t&&(e(t.left,r),r(t.value),e(t.right,r)),void 0},r=function(){function r(){}return r.prototype.toArray=function(){var t;return t=[],e(this.root,function(r){return t.push(r)}),t},r.prototype.forEachImpl=function(t,r,n){var o;return o=0,e(this.root,function(e){return t.call(n,e,o,r),o+=1}),void 0},r.prototype.contains=function(t){var r,e,n;for(e=this.comparator,n=this.root;null!==n&&(r=e(t,n.value),0!==r);)n=0>r?n.left:n.right;return null!==n&&n.value===t},r.prototype.findIterator=function(r){return t.find(this,r,this.comparator)},r.prototype.beginIterator=function(){return t.left(this)},r.prototype.endIterator=function(){return t.right(this)},r}()})}.call(this),function(){var t={}.hasOwnProperty,r=function(r,e){function n(){this.constructor=r}for(var o in e)t.call(e,o)&&(r[o]=e[o]);return n.prototype=e.prototype,r.prototype=new n,r.__super__=e.prototype,r};e("SortedSet/BinaryTreeStrategy",["./AbstractBinaryTreeStrategy"],function(t){var e,n,o,i;return n=function(){function t(t){this.value=t,this.left=null,this.right=null}return t}(),i=function(t,r){for(;null!==t[r];)t=t[r];return t},o=function(t,r,e){var n,u;if(null===t)throw"Value not in set";return n=e(r,t.value),0>n?t.left=o(t.left,r,e):n>0?t.right=o(t.right,r,e):null===t.left&&null===t.right?t=null:null===t.right?t=t.left:null===t.left?t=t.right:(u=i(t.right,"left"),t.value=u.value,t.right=o(t.right,u.value,e)),t},e=function(t){function e(t){this.options=t,this.comparator=this.options.comparator,this.root=null}return r(e,t),e.prototype.insert=function(t){var r,e,o,i;if(e=this.comparator,null!=this.root){for(i=this.root;;){if(r=e(t,i.value),0===r)throw"Value already in set";if(o=0>r?"left":"right",null===i[o])break;i=i[o]}return i[o]=new n(t)}return this.root=new n(t)},e.prototype.remove=function(t){return this.root=o(this.root,t,this.comparator)},e}(t)})}.call(this),function(){var t={}.hasOwnProperty,r=function(r,e){function n(){this.constructor=r}for(var o in e)t.call(e,o)&&(r[o]=e[o]);return n.prototype=e.prototype,r.prototype=new n,r.__super__=e.prototype,r};e("SortedSet/RedBlackTreeStrategy",["./AbstractBinaryTreeStrategy"],function(t){var e,n,o,i,u,l,a,f,s,h,c,p;return e=function(){function t(t){this.value=t,this.left=null,this.right=null,this.isRed=!0}return t}(),c=function(t){var r;return r=t.right,t.right=r.left,r.left=t,r.isRed=t.isRed,t.isRed=!0,r},p=function(t){var r;return r=t.left,t.left=r.right,r.right=t,r.isRed=t.isRed,t.isRed=!0,r},o=function(t){return t.isRed=!t.isRed,t.left.isRed=!t.left.isRed,t.right.isRed=!t.right.isRed,void 0},a=function(t){return o(t),null!==t.right&&null!==t.right.left&&t.right.left.isRed&&(t.right=p(t.right),t=c(t),o(t)),t},f=function(t){return o(t),null!==t.left&&null!==t.left.left&&t.left.left.isRed&&(t=p(t),o(t)),t},l=function(t,r,n){if(null===t)return new e(r);if(t.value===r)throw"Value already in set";return n(r,t.value)<0?t.left=l(t.left,r,n):t.right=l(t.right,r,n),null===t.right||!t.right.isRed||null!==t.left&&t.left.isRed||(t=c(t)),null!==t.left&&t.left.isRed&&null!==t.left.left&&t.left.left.isRed&&(t=p(t)),null!==t.left&&t.left.isRed&&null!==t.right&&t.right.isRed&&o(t),t},i=function(t){for(;null!==t.left;)t=t.left;return t},u=function(t){return null!==t.right&&t.right.isRed&&(t=c(t)),null!==t.left&&t.left.isRed&&null!==t.left.left&&t.left.left.isRed&&(t=p(t)),null!==t.left&&t.left.isRed&&null!==t.right&&t.right.isRed&&o(t),t},h=function(t){return null===t.left?null:(t.left.isRed||null!==t.left.left&&t.left.left.isRed||(t=a(t)),t.left=h(t.left),u(t))},s=function(t,r,e){if(null===t)throw"Value not in set";if(t.value!==r&&e(r,t.value)<0){if(null===t.left)throw"Value not in set";t.left.isRed||null!==t.left.left&&t.left.left.isRed||(t=a(t)),t.left=s(t.left,r,e)}else{if(null!==t.left&&t.left.isRed&&(t=p(t)),null===t.right){if(r===t.value)return null;throw"Value not in set"}t.right.isRed||null!==t.right.left&&t.right.left.isRed||(t=f(t)),r===t.value?(t.value=i(t.right).value,t.right=h(t.right)):t.right=s(t.right,r,e)}return null!==t&&(t=u(t)),t},n=function(t){function e(t){this.options=t,this.comparator=this.options.comparator,this.root=null}return r(e,t),e.prototype.insert=function(t){return this.root=l(this.root,t,this.comparator),this.root.isRed=!1,void 0},e.prototype.remove=function(t){return this.root=s(this.root,t,this.comparator),null!==this.root&&(this.root.isRed=!1),void 0},e}(t)})}.call(this),function(){var t={}.hasOwnProperty,r=function(r,e){function n(){this.constructor=r}for(var o in e)t.call(e,o)&&(r[o]=e[o]);return n.prototype=e.prototype,r.prototype=new n,r.__super__=e.prototype,r};e("SortedSet",["./SortedSet/AbstractSortedSet","./SortedSet/ArrayStrategy","./SortedSet/BinaryTreeStrategy","./SortedSet/RedBlackTreeStrategy"],function(t,e,n,o){var i;return i=function(t){function e(t){t||(t={}),t.strategy||(t.strategy=o),t.comparator||(t.comparator=function(t,r){return(t||0)-(r||0)}),e.__super__.constructor.call(this,t)}return r(e,t),e}(t),i.ArrayStrategy=e,i.BinaryTreeStrategy=n,i.RedBlackTreeStrategy=o,i})}.call(this),function(){r(["./SortedSet"],function(t){return window.SortedSet=t})}.call(this),e("index",function(){})}();